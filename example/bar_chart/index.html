<!DOCTYPE html>
<html>
<meta charset="utf-8">
<style>

.chart div {
  font: 10px sans-serif;
  background-color: steelblue;
  text-align: right;
  padding: 3px;
  margin: 1px;
  color: white;
}

</style>
<body>
<div class="chart"></div>
<script type="application/dart">

import 'package:d3/scale/scale.dart';
import 'package:d3/arrays/arrays.dart';
import 'package:d3/selection/selection.dart';

main() {

var data = [4, 8, 15, 16, 23, 42];

var x = new Linear()
    ..domain = [0, max(data)]
    ..range = [0, 420];

new Selection.fromSelector('.chart')
  .selectAll('div')
  .data(data)
  .enter()
  .append('div')
  ..styleFunc("width", (n, d, i, j) { return "${x(d)}px"; })
  ..textFunc((n, d, i, j) { return d; });

}
</script>

<script src="packages/browser/dart.js"></script>
</body>
</html>
