<!DOCTYPE html>
<html>
<meta charset="utf-8">
<body>
<script type="application/dart">

import 'package:unittest/unittest.dart';
import 'package:unittest/html_enhanced_config.dart';
import 'package:d3/selection/selection.dart';

class DataObject {
  String toJson() {
    return "{}";
  }
}

main() {
//  useHtmlEnhancedConfiguration();

  group('select(body)', () {
    group('on a simple page', () {
      Selection body = select('body');

      test('assigns data as an array', () {
        var data = new Object();
        body.data([data]);
        expect(nodeData(body.node()), same(data));
      });
      /*test('assigns data as a function', () {
        var data = new Object();
        body.data(() { return [data]; });
        expect(body.node().attributes["__data__"], same(data));
      });
      test('stores data in the DOM', () {
        var expected = new Object(), actual;
        body.node().attributes["__data__"] = expected;
        body.each((node, d) { actual = d; });
        expect(actual, same(expected));
      });
      test('returns a new selection', () {
        expect(body.data([1]), same(body));
      });
      test('with no arguments, returns an array of data', () {
        var data = new Object();
        body.data([data]);
        expect(body.data(), equals([data]));
        expect(body.data()[0], same(data));
      });
      test('throws an error if data is null', () {
        var errored;
        try { body.data(null); } catch (e) { errored = true; }
        expect(errored, isTrue);
      });
      test('throws an error if data is a function that returns null', () {
        var errored;
        try { body.data(() {}); } catch (e) { errored = true; }
        expect(errored, isTrue);
      });*/
    });
  });
}
</script>

<script src="packages/browser/dart.js"></script>
</body>
</html>
